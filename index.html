<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>App Financeiro</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    header {
      display: flex;
      background-color: #2d2f33;
      justify-content: center;
      gap: 10px;
      padding: 10px;
    }

    header button {
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      background-color: #1976d2;
      color: white;
      cursor: pointer;
    }

    header button.active {
      background-color: #0d47a1;
    }

    .container {
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }

    .oculto {
      display: none;
    }

    /* --- Calculadora Estilo --- */
    .calculadora {
      background: #2d2f33;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 0 20px #000000aa;
    }

    .tela {
      background: #1c1e22;
      color: #ffffff;
      font-size: 2rem;
      padding: 15px;
      text-align: right;
      border-radius: 10px;
      margin-bottom: 15px;
      min-height: 50px;
      overflow-x: auto;
    }

    .botoes {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }

    button.calc-btn {
      font-size: 1.2rem;
      padding: 20px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .operador { background: #f57c00; color: white; }
    .numero { background: #3c4043; color: white; }
    .clear { background: #d32f2f; color: white; }
    .equal { background: #388e3c; color: white; grid-column: span 2; }
    .funcao { background: #1976d2; color: white; }
    .calc-btn:hover { opacity: 0.85; }

    /* --- Planilha Estilo --- */
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
      color: #444;
    }

    input[type="number"] {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin-top: 5px;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    .resultado {
      background-color: #ffffff;
      margin-top: 25px;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 8px #cccccc;
    }

    .positivo {
      color: green;
      font-weight: bold;
    }

    .negativo {
      color: red;
      font-weight: bold;
    }

    .campo {
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

  <header>
    <button id="btnCalc" class="active" onclick="mostrar('calculadora')">üßÆ Calculadora</button>
    <button id="btnPlan" onclick="mostrar('planilha')">üìä Planilha</button>
  </header>

  <div class="container">
    
    <!-- CALCULADORA -->
    <div id="calculadora" class="calculadora">
      <div id="tela" class="tela">0</div>
      <div class="botoes">
        <button class="calc-btn clear" onclick="limpar()">C</button>
        <button class="calc-btn funcao" onclick="adicionarFuncao('sqrt')">‚àö</button>
        <button class="calc-btn funcao" onclick="adicionar('%')">%</button>
        <button class="calc-btn operador" onclick="adicionar('/')">√∑</button>

        <button class="calc-btn numero" onclick="adicionar('7')">7</button>
        <button class="calc-btn numero" onclick="adicionar('8')">8</button>
        <button class="calc-btn numero" onclick="adicionar('9')">9</button>
        <button class="calc-btn operador" onclick="adicionar('*')">√ó</button>

        <button class="calc-btn numero" onclick="adicionar('4')">4</button>
        <button class="calc-btn numero" onclick="adicionar('5')">5</button>
        <button class="calc-btn numero" onclick="adicionar('6')">6</button>
        <button class="calc-btn operador" onclick="adicionar('-')">‚àí</button>

        <button class="calc-btn numero" onclick="adicionar('1')">1</button>
        <button class="calc-btn numero" onclick="adicionar('2')">2</button>
        <button class="calc-btn numero" onclick="adicionar('3')">3</button>
        <button class="calc-btn operador" onclick="adicionar('+')">+</button>

        <button class="calc-btn numero" onclick="adicionar('0')" style="grid-column: span 2">0</button>
        <button class="calc-btn numero" onclick="adicionar('.')">.</button>
        <button class="calc-btn equal" onclick="calcular()">=</button>
      </div>
    </div>

    <!-- PLANILHA -->
    <div id="planilha" class="oculto">
      <div class="campo">
        <label for="salario">üí∞ Sal√°rio do m√™s:</label>
        <input type="number" id="salario" placeholder="Ex: 3000" oninput="calcularGastos()">
      </div>

      <div class="campo">
        <label for="mercado">üõí Mercado:</label>
        <input type="number" id="mercado" placeholder="Ex: 800" oninput="calcularGastos()">
      </div>

      <div class="campo">
        <label for="energia">üí° Energia el√©trica:</label>
        <input type="number" id="energia" placeholder="Ex: 150" oninput="calcularGastos()">
      </div>

      <div class="campo">
        <label for="agua">üöø √Ågua:</label>
        <input type="number" id="agua" placeholder="Ex: 80" oninput="calcularGastos()">
      </div>

      <div class="campo">
        <label for="internet">üåê Internet:</label>
        <input type="number" id="internet" placeholder="Ex: 100" oninput="calcularGastos()">
      </div>

      <div class="campo">
        <label for="gasolina">‚õΩ Gasolina:</label>
        <input type="number" id="gasolina" placeholder="Ex: 200" oninput="calcularGastos()">
      </div>

      <div class="campo">
        <label for="gas">üßØ G√°s de cozinha:</label>
        <input type="number" id="gas" placeholder="Ex: 120" oninput="calcularGastos()">
      </div>

      <div class="resultado">
        <p><strong>üßæ Total de gastos:</strong> R$ <span id="totalGastos">0.00</span></p>
        <p><strong>üìâ Saldo final:</strong> R$ <span id="saldoFinal" class="positivo">0.00</span></p>
      </div>
    </div>
  </div>

  <script>
    // Troca de guias
    function mostrar(secao) {
      document.getElementById('calculadora').classList.add('oculto');
      document.getElementById('planilha').classList.add('oculto');
      document.getElementById(secao).classList.remove('oculto');

      document.getElementById('btnCalc').classList.remove('active');
      document.getElementById('btnPlan').classList.remove('active');
      document.getElementById(secao === 'calculadora' ? 'btnCalc' : 'btnPlan').classList.add('active');
    }

    // CALCULADORA
    let expressao = '';

    function adicionar(valor) {
      if (expressao === '0') expressao = '';
      expressao += valor;
      atualizarTela();
    }

    function adicionarFuncao(funcao) {
      if (funcao === 'sqrt') {
        try {
          const valor = eval(expressao);
          expressao = Math.sqrt(valor).toString();
          atualizarTela();
        } catch {
          expressao = '';
          document.getElementById('tela').innerText = 'Erro';
        }
      }
    }

    function limpar() {
      expressao = '';
      atualizarTela();
    }

    function calcular() {
      try {
        let exp = expressao.replace(/(\d+(\.\d+)?)%/g, (_, num) => parseFloat(num) / 100);
        const resultado = eval(exp);
        expressao = resultado.toString();
        atualizarTela();
      } catch {
        expressao = '';
        document.getElementById('tela').innerText = 'Erro';
      }
    }

    function atualizarTela() {
      document.getElementById('tela').innerText = expressao || '0';
    }

    // PLANILHA
    function calcularGastos() {
      const salario = parseFloat(document.getElementById('salario').value) || 0;
      const mercado = parseFloat(document.getElementById('mercado').value) || 0;
      const energia = parseFloat(document.getElementById('energia').value) || 0;
      const agua = parseFloat(document.getElementById('agua').value) || 0;
      const internet = parseFloat(document.getElementById('internet').value) || 0;
      const gasolina = parseFloat(document.getElementById('gasolina').value) || 0;
      const gas = parseFloat(document.getElementById('gas').value) || 0;

      const totalGastos = mercado + energia + agua + internet + gasolina + gas;
      const saldo = salario - totalGastos;

      document.getElementById('totalGastos').innerText = totalGastos.toFixed(2);
      const saldoElem = document.getElementById('saldoFinal');
      saldoElem.innerText = saldo.toFixed(2);

      if (saldo < 0) {
        saldoElem.classList.remove('positivo');
        saldoElem.classList.add('negativo');
      } else {
        saldoElem.classList.remove('negativo');
        saldoElem.classList.add('positivo');
      }
    }
  </script>

</body>
</html>
